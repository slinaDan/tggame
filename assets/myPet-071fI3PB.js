import{N as P}from"./NavBar-wSkkJ8dU.js";import{M as U}from"./MyTabbar-BP9JevAR.js";import{g as $,_ as B,P as C,i as L,r as i,K as j,k as E,o as q,l as v,q as r,s as w,v as y,x as I,S as M,y as e,z as a,H as F,J as x,f as k,A as J,B as g,C as K,E as T,F as V}from"./index-B691GwuT.js";import{j as O,n as R}from"./api-CjhyYONa.js";import{s as z,a as A}from"./function-call-BqwFy359.js";import{E as S}from"./index-CLejF7qy.js";import"./use-placeholder-tAUy5Gse.js";import"./index-TiZfQg1j.js";$(z);const G={components:{NavbarVue:P,MyTabbarVue:U,[S.name]:S,[C.name]:C},setup(){const o=L(),n=i(2);let h=i(!1),t=i([]),_=i(""),p=i(""),u=i("");const m=j();console.log(m.query.petItem),m.query.petItem;const{locale:d}=E();async function f(){const l=await O();l.code==200&&(t.value=l.data)}async function s(){if(!p.value)return g(d.value=="en"?"Please enter the user UID":"请输入用户UID");if(!u.value)return g(d.value=="en"?"Please enter the amount of gift to be transferred":"请输入转赠数量");const l=await R({petId:_.value,num:u.value.trim(),toMemberId:p.value.trim()});l.code==200&&(K(l.msg),h.value=!1,f())}function b(l,D){l.num>=3?o.push("/synthesis?petItem="+JSON.stringify(t.value[D])):g(d.value=="en"?"Insufficient number of pets":"宠物数量不足")}function c(l){A([l])}q(()=>{f()});function N(l){o.push(l)}return{jumpto:N,active:n,showTransfer:h,petList:t,toSubmit:s,petId:_,toMemberId:p,num:u,previewImg:c,toSynthesis:b}}},H={class:"page flex1"},Q={class:"flex-bw title"},W=["src","onClick"],X={class:"flex1"},Y={class:"fs-13"},Z={class:"fs-13"},ee={class:"btns flex"},te=["onClick"],se=["onClick"],oe=["onClick"],ne={class:"modal flex1"},ae={class:"title"},le={class:"flex-bw"},ie=["placeholder"],re={class:"flex-bw"},ue=["placeholder"],de={class:"flex btns"};function ce(o,n,h,t,_,p){const u=v("NavbarVue"),m=v("MyTabbarVue"),d=v("van-popup"),f=v("van-empty");return r(),w("div",H,[(r(),y(M,null,{default:I(()=>[k(u)]),_:1})),(r(),y(M,null,{default:I(()=>[k(m,{active:t.active},null,8,["active"])]),_:1})),e("div",Q,[e("span",null,a(o.$t("宠物信息")),1),e("span",{class:"yellow",onClick:n[0]||(n[0]=s=>t.jumpto("/petDetail"))},a(o.$t("宠物明细")),1)]),(r(!0),w(F,null,x(t.petList,(s,b)=>(r(),w("div",{class:"wrap flex",key:s.id},[e("img",{src:s.image,alt:"",onClick:c=>t.previewImg(s.image)},null,8,W),e("div",X,[e("span",null,a(s.name),1),e("span",Y,a(o.$t("宠物收益： KONG/每小时",[s.earn])),1),e("span",Z,a(o.$t("宠物数量"))+"："+a(s.num),1),e("div",ee,[e("button",{onClick:c=>t.jumpto("/petDetail?petId="+s.id)},a(o.$t("宠物明细")),9,te),e("button",{onClick:c=>t.toSynthesis(s,b)},a(o.$t("合成")),9,se),e("button",{onClick:c=>(t.showTransfer=!0,t.petId=s.id)},a(o.$t("转赠")),9,oe)])])]))),128)),k(d,{show:t.showTransfer,"onUpdate:show":n[5]||(n[5]=s=>t.showTransfer=s),round:""},{default:I(()=>[e("div",ne,[e("div",ae,a(o.$t("宠物转赠")),1),e("div",le,[e("span",null,a(o.$t("用户"))+"UID：",1),T(e("input",{"onUpdate:modelValue":n[1]||(n[1]=s=>t.toMemberId=s),type:"text",placeholder:o.$t("请输入用户UID")},null,8,ie),[[V,t.toMemberId]])]),e("div",re,[e("span",null,a(o.$t("转赠数量"))+"：",1),T(e("input",{"onUpdate:modelValue":n[2]||(n[2]=s=>t.num=s),type:"text",placeholder:o.$t("请输入转赠数量")},null,8,ue),[[V,t.num]])]),e("div",de,[e("button",{onClick:n[3]||(n[3]=s=>t.showTransfer=!1)},a(o.$t("取消")),1),e("button",{onClick:n[4]||(n[4]=(...s)=>t.toSubmit&&t.toSubmit(...s))},a(o.$t("提交")),1)])])]),_:1},8,["show"]),t.petList.length==0?(r(),y(f,{key:0,description:o.$t("暂无数据")},null,8,["description"])):J("",!0)])}const ye=B(G,[["render",ce],["__scopeId","data-v-284a7f3d"]]);export{ye as default};
