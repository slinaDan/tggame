import{_ as C,i as D,J as b,r as f,o as N,l as y,q as s,s as a,f as B,y as r,H as L,I as S,v as q,A as c,z as o}from"./index-ClPHJh0a.js";import{n as E}from"./api-D9jvAFlf.js";import{N as g}from"./index-BJFj-_y5.js";import{E as k}from"./index-CX4kjn0m.js";import{a as H}from"./function-call-Ix_5vKbu.js";import"./use-placeholder-DVrY4sxw.js";import"./index-I25YZdwc.js";const M={components:{[g.name]:g,[k.name]:k},setup(){const t=D(),i=b();console.log(i.query.petId);const _=i.query.petId,n=f([]);f(null);const p=f(1),d=f(0);async function u(){const l=await E(_||"",p.value);l.code==200&&(d.value=l.total,p.value==1&&(n.value=[]),n.value=n.value.concat(...l.rows))}N(()=>{u()});function v(l){const h=l.target;if(h){const{scrollTop:$,scrollHeight:I,clientHeight:w}=h;$+w>=I&&(console.log("已经滚动到底部",d.value,n.value.length),d.value>n.value.length&&(p.value+=1,u()))}}function e(l){H([l])}function m(){t.back()}return{onClickLeft:m,petDetail:n,handleScroll:v,previewImg:e}}},V={class:"page"},P={class:"no flex"},R={class:"flex"},T=["src","onClick"],z={class:"flex1"},A={class:"flex-bw fs-13"},F={key:0},J={key:1},W={key:2},j={key:3},G={key:4},K={key:5},O={class:"fs-13 date"};function Q(t,i,_,n,p,d){const u=y("van-nav-bar"),v=y("van-empty");return s(),a("div",V,[B(u,{fixed:"",title:t.$t("宠物明细"),"left-arrow":"",onClickLeft:n.onClickLeft,border:!1},null,8,["title","onClickLeft"]),r("div",{class:"petWrap flex1 scroll-container",ref:"scrollContainer",onScroll:i[0]||(i[0]=(...e)=>n.handleScroll&&n.handleScroll(...e))},[(s(!0),a(L,null,S(n.petDetail,(e,m)=>(s(),a("div",{class:"wrap flex1",key:e.id},[r("div",P,o(t.$t("宠物编号"))+"："+o(e.petNo),1),r("div",R,[r("img",{src:e.pet?e.pet.image:"",alt:"",onClick:l=>n.previewImg(e.pet.image)},null,8,T),r("div",z,[r("span",null,o(e.pet?e.pet.name:""),1),r("div",A,[e.type==1?(s(),a("span",F,o(t.$t("类型"))+"："+o(t.$t("孵化")),1)):c("",!0),e.type==2?(s(),a("span",J,o(t.$t("类型"))+"："+o(t.$t("转赠")),1)):c("",!0),e.type==3?(s(),a("span",W,o(t.$t("类型"))+"："+o(t.$t("转入")),1)):c("",!0),e.type==4?(s(),a("span",j,o(t.$t("类型"))+"："+o(t.$t("合成")),1)):c("",!0),e.type==5?(s(),a("span",G,o(t.$t("类型"))+"："+o(t.$t("合成扣减")),1)):c("",!0),e.sendMemerId?(s(),a("span",K,o(t.$t("转入人"))+"："+o(e.sendMemerId),1)):c("",!0)]),r("span",O,o(t.$t("获得时间"))+"："+o(e.createTime),1)])])]))),128)),n.petDetail.length==0?(s(),q(v,{key:0,description:t.$t("暂无数据")},null,8,["description"])):c("",!0)],544)])}const oe=C(M,[["render",Q],["__scopeId","data-v-6c96bde1"]]);export{oe as default};
